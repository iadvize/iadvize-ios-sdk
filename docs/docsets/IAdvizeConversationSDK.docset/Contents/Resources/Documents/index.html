<!DOCTYPE html>
<html lang="en">
  <head>
    <title>IAdvizeConversationSDK  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="IAdvizeConversationSDK  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">IAdvizeConversationSDK 1.15.0 Docs</a></p>
        <p class="header-right"><a href="https://github.com/iadvize/iadvize-ios-sdk"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">IAdvizeConversationSDK Reference</a>
        <img id="carat" src="img/carat.png" />
        IAdvizeConversationSDK  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="iAdvize%20SDK.html">iAdvize SDK</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/IAdvizeSDK.html">IAdvizeSDK</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/AuthenticationOption.html">AuthenticationOption</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/GDPROption.html">GDPROption</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/GDPREnabledOption.html">GDPREnabledOption</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/GDPRDelegate.html">GDPRDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Logger.html">Logger</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Logger/LogLevel.html">– LogLevel</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Conversation.html">Conversation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ConversationController.html">ConversationController</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ConversationControllerDelegate.html">ConversationControllerDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Targeting.html">Targeting</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/TargetingController.html">TargetingController</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TargetingControllerDelegate.html">TargetingControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SDKLanguageOption.html">SDKLanguageOption</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Language.html">Language</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Chatbox%20and%20Chat%20button.html">Chatbox and Chat button</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ChatboxController.html">ChatboxController</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ChatboxConfiguration.html">ChatboxConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/IncomingMessageAvatar.html">IncomingMessageAvatar</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Push%20Notifications.html">Push Notifications</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/NotificationController.html">NotificationController</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ApplicationMode.html">ApplicationMode</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Transactions.html">Transactions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/TransactionController.html">TransactionController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Transaction.html">Transaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Currency.html">Currency</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='iadvize-ios-conversation-sdk' class='heading'>iAdvize - iOS Conversation SDK</h1>

<p>Take your app to the next step and provide a unique conversational experience to your users!</p>

<p>Embed the iAdvize Conversation SDK in your app and connect your visitors with your professional operators or ibbü experts through a fully customised chat experience. Visitors can ask a question and will receive answers directly on their devices with push notifications, in or outside your app.</p>

<p><img src="iAdvize_SDK.png" alt="iAdvize_SDK"></p>

<p>You will find an example of integration in the <code>Example/IAdvizeSwiftExample</code> folder of this repository.</p>

<p>Just run <code>pod install</code>, open the <code>IAdvizeSwiftExample.xcworkspace</code> and run the project. You can copy and paste the <code>Podfile</code> into your project to easily test it into your app.</p>
<h2 id='requirements' class='heading'>Requirements</h2>

<p>The iAdvize iOS SDK requires iOS 12.0 or higher, and Xcode 12.5.</p>
<h2 id='documentation' class='heading'>Documentation</h2>

<p>The API reference is available <a href="https://iadvize.github.io/iadvize-ios-sdk/">here</a>.</p>
<h2 id='setup' class='heading'>Setup</h2>
<h3 id='app-creation' class='heading'>App creation</h3>

<ol>
<li><p>Ask your iAdvize Admin to create a <strong>Mobile App</strong> on the administration website. <em>If you want to enable the iAdvize SDK push notifications for your user you have to provide your APNS push certificate when you create your app on the administration website.</em></p></li>
<li><p>Ask your iAdvize Admin to create a new <strong>Web &amp; Mobile App</strong> targeting campaign on the administration website and to give you the following information:</p>

<ul>
<li><strong>projectId</strong>: id of your project</li>
<li><strong>targetingRuleId(s)</strong>: one or multiple rules which you will be able to activate in code during the user navigation (see <a href="#Targeting">Targeting</a>).</li>
</ul></li>
</ol>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='cocoapods' class='heading'>CocoaPods</h3>

<p>The SDK is distributed as an XCFramework, therefore <strong>you are required to use CocoaPods 1.9.0 or newer</strong>.</p>

<p>Add this line to your Podfile, inside the target section:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'iAdvize'</span><span class="p">,</span> <span class="s1">'2.0.0-beta1'</span>
</code></pre>

<p>Add the following to the bottom of your Podfile:</p>
<pre class="highlight ruby"><code><span class="n">post_install</span> <span class="k">do</span> <span class="o">|</span><span class="n">installer</span><span class="o">|</span>
    <span class="n">installer</span><span class="p">.</span><span class="nf">pods_project</span><span class="p">.</span><span class="nf">targets</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">target</span><span class="o">|</span>
        <span class="n">target</span><span class="p">.</span><span class="nf">build_configurations</span><span class="p">.</span><span class="nf">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
            <span class="n">config</span><span class="p">.</span><span class="nf">build_settings</span><span class="p">[</span><span class="s1">'BUILD_LIBRARY_FOR_DISTRIBUTION'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'YES'</span>
        <span class="k">end</span>
    <span class="k">end</span>
<span class="k">end</span>
</code></pre>

<blockquote>
<p>This post_install hook is required because the iAdvize SDK supports <a href="https://swift.org/blog/abi-stability-and-more/">module stability</a>. Therefore, all its dependencies must be built using the &ldquo;Build Libraries for Distribution&rdquo; option.</p>
</blockquote>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='activation' class='heading'>Activation</h3>

<p>To activate the SDK you must use the <strong>activate</strong> function. You also have access to a asynchronous callback in order to know if the SDK has been successfully activated (and to retry later if the activation fails):</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">activate</span><span class="p">(</span><span class="nv">projectId</span><span class="p">:</span> <span class="n">projectId</span><span class="p">,</span>
                           <span class="nv">authenticationOption</span><span class="p">:</span> <span class="o">.</span><span class="nf">simple</span><span class="p">(</span><span class="nv">userId</span><span class="p">:</span> <span class="n">userId</span><span class="p">),</span>
                           <span class="nv">gdprOption</span><span class="p">:</span> <span class="o">.</span><span class="nf">enabled</span><span class="p">(</span><span class="nv">option</span><span class="p">:</span> <span class="o">.</span><span class="nf">legalInformation</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">legalInfoURL</span><span class="p">)))</span> <span class="p">{</span> <span class="n">success</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">success</span> <span class="p">{</span>
        <span class="o">...</span>      
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>Once the iAdvize Conversation SDK is successfully activated, you should see a success message in the console:</p>
<pre class="highlight plaintext"><code>✅ iAdvize conversation activated, the version is x.x.x.
</code></pre>

<p>Do not forget to <a href="#Logout">logout</a> when the user is no longer connected in your app.</p>
<h5 id='gdpr' class='heading'>GDPR</h5>

<p>By default, when you activate the SDK, the GDPR will be disabled. </p>

<p>To enable it, you can pass a GDPR option while activating the SDK. This GDPROption dictates how the SDK behaves when the user taps on the “More information” button:</p>

<ol>
<li><code>GDPROption.enabled(option: .legalInformation(url: URL))</code>: will open the given URL containing GDPR information</li>
<li><code>GDPROption.enabled(option: .delegate(delegate: GDPRDelegate))</code>: will call the given delegate so that your app can show the relevant GDPR information</li>
</ol>

<p>The GDPR process is now activated for your users and a default message will be provided to collect the user consent. Please check the <a href="#Customization">Customization</a> section below if you want to customise this message.</p>
<h4 id='logging' class='heading'>Logging</h4>

<p>By default, the SDK will <strong>only log Warnings and Errors</strong> in the Xcode console. You can make it more verbose and choose between multiple levels of log for a better integration experience:</p>
<pre class="highlight swift"><code> <span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">logLevel</span> <span class="o">=</span> <span class="o">.</span><span class="n">verbose</span>
</code></pre>
<h3 id='targeting' class='heading'>Targeting</h3>

<p>The targeting process is managed by the <code>IAdvizeSDK.shared.targetingController</code></p>
<h4 id='targeting-language' class='heading'>Targeting Language</h4>

<p>By default, the SDK will use the device language for <strong>targeting a conversation</strong>. With this variable you can specify the language you want to use for targetting:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">targetingController</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="o">.</span><span class="nf">custom</span><span class="p">(</span><span class="nv">value</span><span class="p">:</span> <span class="o">.</span><span class="n">fr</span><span class="p">)</span>
</code></pre>

<blockquote>
<p>:warning: This <code>language</code> property is NOT intended to change the language displayed in the SDK.</p>
</blockquote>
<h4 id='activate-a-targeting-rule' class='heading'>Activate a targeting rule</h4>

<p>For the iAdvize SDK to work, you have to setup an active targeting rule. To do so, you can call the following method:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">targetingController</span><span class="o">.</span><span class="nf">activateTargetingRule</span><span class="p">(</span><span class="nv">targetingRuleId</span><span class="p">:</span> <span class="kt">UUID</span><span class="p">)</span>
</code></pre>
<h4 id='targeting-rule-availability' class='heading'>Targeting rule availability</h4>

<p>The targeting rule availability check will be triggered when you update the active targeting rule (see <a href="#rule">Activate a targeting rule</a>)</p>

<p>You can check the active rule availability by accessing:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">targetingController</span><span class="o">.</span><span class="n">isActiveTargetingRuleAvailable</span>
</code></pre>

<p>Or if you want to be informed of rule availability updates, you can add a delegate:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IntegrationApp</span><span class="p">:</span> <span class="kt">TargetingControllerDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">activeTargetingRuleAvailabilityDidUpdate</span><span class="p">(</span><span class="nv">isActiveTargetingRuleAvailable</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='follow-user-navigation' class='heading'>Follow user navigation</h4>

<p>To allow iAdvize statistics to be processed you need to inform the SDK when the user navigates through your app. To do so, just call:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">targetingController</span><span class="o">.</span><span class="nf">registerUserNavigation</span><span class="p">()</span>
</code></pre>
<h3 id='conversation' class='heading'>Conversation</h3>

<p>The lifecycle of the conversation is managed by the <code>IAdvizeSDK.shared.conversationController</code>.</p>
<h4 id='ongoing-conversation' class='heading'>Ongoing conversation</h4>

<p>To know and to observe the evolution of the conversation state, you will have access to a variable:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">conversationController</span><span class="o">.</span><span class="n">hasOngoingConversation</span>
</code></pre>

<p>You can also add a delegate to be informed in real time about conversation events:</p>
<pre class="highlight swift"><code><span class="kd">extension</span> <span class="kt">IntegrationApp</span><span class="p">:</span> <span class="kt">ConversationControllerDelegate</span> <span class="p">{</span>
    <span class="kd">func</span> <span class="nf">ongoingConversationStatusDidChange</span><span class="p">(</span><span class="nv">hasOngoingConversation</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// SDK ongoing conversation status changed to hasOngoingConversation</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">didReceiveNewMessage</span><span class="p">(</span><span class="nv">content</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// A new message was received via the SDK</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">conversationController</span><span class="p">(</span><span class="n">_</span> <span class="nv">controller</span><span class="p">:</span> <span class="kt">ConversationController</span><span class="p">,</span> <span class="n">shouldOpen</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
        <span class="c1">// A message link was tapped, return true if you want your app to handle it</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='push-notifications' class='heading'>Push notifications</h3>

<p>The entry point for push notifications is the <code>IAdvizeSDK.shared.notificationController</code></p>
<h4 id='configuration' class='heading'>Configuration</h4>

<p>To receive push notification when a message is sent to the visitor, you must register the current <strong>push token</strong> of the device:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">notificationController</span><span class="o">.</span><span class="nf">registerPushToken</span><span class="p">(</span><span class="s">"the_device_push_token"</span><span class="p">,</span> <span class="nv">applicationMode</span><span class="p">:</span> <span class="o">.</span><span class="n">prod</span><span class="p">)</span>
</code></pre>

<p>You can register your push token at any time.</p>

<p>By default, push notifications are activated if you have setup the push notifications information for your app on the iAdvize administration website. You can manually enable/disable them at any time using:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">notificationController</span><span class="o">.</span><span class="n">enablePushNotifications</span> <span class="p">{</span> <span class="n">success</span> <span class="k">in</span>
    <span class="o">...</span>
<span class="p">}</span>

<span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">notificationController</span><span class="o">.</span><span class="n">disablePushNotifications</span> <span class="p">{</span> <span class="n">success</span> <span class="k">in</span>
    <span class="o">...</span>
<span class="p">}</span>
</code></pre>
<h4 id='reception' class='heading'>Reception</h4>

<p>Once you receive a push notification, you can easily verify that this notification concerns the SDK:</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span>
                 <span class="n">didReceiveRemoteNotification</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">],</span>
                 <span class="n">fetchCompletionHandler</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt">UIBackgroundFetchResult</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">notificationController</span><span class="o">.</span><span class="nf">isIAdvizePushNotification</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">userInfo</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h3 id='chatbox' class='heading'>Chatbox</h3>

<p>The Chatbox is where the conversation takes place. The visitor can open the Chatbox by touching the Chat button.</p>

<p>You can control the appearance and behavior of the Chatbox and Chat button using the <code><a href="Classes/ChatboxController.html">ChatboxController</a></code>, that you can access using <code>IAdvizeSDK.shared.chatboxController</code>.</p>
<h4 id='chat-button' class='heading'>Chat button</h4>

<p>When the active targeting rule is available, a chat button is displayed to invite the user to chat.</p>

<p>You can decide to let the SDK manage the chat button visibility or control it yourself using the following flag:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">chatboxController</span><span class="o">.</span><span class="n">useDefaultChatButton</span> <span class="o">=</span> <span class="kc">true</span>
</code></pre>
<h5 id='default-chat-button' class='heading'>Default chat button</h5>

<p>If <code>useDefaultChatButton == true</code> the SDK will use the iAdvize default chat button, manage its visibility, and open the chatbox when user presses it.</p>

<p>The default chat button is anchored to the bottom-left of your screen, you can change its position using:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">chatboxController</span><span class="o">.</span><span class="nf">setChatButtonPosition</span><span class="p">(</span><span class="nv">leftMargin</span><span class="p">:</span> <span class="kt">Double</span><span class="p">,</span> <span class="nv">bottomMargin</span><span class="p">:</span> <span class="kt">Double</span><span class="p">)</span>
</code></pre>
<h5 id='custom-chat-button' class='heading'>Custom chat button</h5>

<p>If <code>useDefaultChatButton == false</code> this default button will not be displayed and it is your responsibility to:</p>

<ul>
<li>design your own custom floating or fixed button to invite your user to chat</li>
<li>hide/show your button following the active <a href="#Targeting%20rule%20availability">Targeting rule availability</a></li>
<li>open the chatbox when the user presses your button, using the following method:</li>
</ul>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">conversationController</span><span class="o">.</span><span class="nf">presentConversationViewModal</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">,</span> <span class="nv">presentingViewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">?)</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</code></pre>
<h4 id='customization' class='heading'>Customization</h4>

<p>You can customize the chatbox UI by calling the following method:</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">chatboxController</span><span class="o">.</span><span class="nf">setupChatbox</span><span class="p">(</span><span class="nv">configuration</span><span class="p">:</span> <span class="kt">ChatboxConfiguration</span><span class="p">)</span>
</code></pre>

<p>A simple snippet to only change one value:</p>
<pre class="highlight swift"><code><span class="k">var</span> <span class="nv">configuration</span> <span class="o">=</span> <span class="kt">ChatboxConfiguration</span><span class="p">()</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">mainColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">blue</span>
</code></pre>

<p>The <code><a href="Structs/ChatboxConfiguration.html">ChatboxConfiguration</a></code> allow you to customize the following attributes:</p>
<h5 id='main-color' class='heading'>Main color</h5>

<p>You can setup a main color on the SDK which will be applied to the color of:</p>

<ul>
<li>the default Chat button (if you use it)</li>
<li>the send button in the Conversation View</li>
<li>the blinking text cursor in the “new message” input in the Conversation View</li>
<li>the background color of the message bubbles (only for sent messages)</li>
</ul>
<pre class="highlight swift"><code><span class="n">configuration</span><span class="o">.</span><span class="n">mainColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">red</span>
</code></pre>
<h5 id='navigation-bar' class='heading'>Navigation bar</h5>

<p>You can configure the Toolbar of the Chatbox and modify:</p>

<ul>
<li>the background color</li>
<li>the main color</li>
<li>the title</li>
</ul>
<pre class="highlight swift"><code><span class="n">configuration</span><span class="o">.</span><span class="n">navigationBarBackgroundColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">black</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">navigationBarMainColor</span> <span class="o">=</span> <span class="o">.</span><span class="n">white</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">navigationBarTitle</span> <span class="o">=</span> <span class="s">"Conversation"</span>
</code></pre>
<h5 id='font' class='heading'>Font</h5>

<p>You can update the font used in the UI of the IAdvize Conversation SDK. You just have to call this method to setup your own font:</p>
<pre class="highlight swift"><code><span class="n">configuration</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="kt">UIFont</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"AmericanTypewriter-Condensed"</span><span class="p">,</span> <span class="nv">size</span><span class="p">:</span> <span class="mf">11.0</span><span class="p">)</span>
</code></pre>
<h5 id='automatic-message' class='heading'>Automatic message</h5>

<p>A first automatic message can be setup to be displayed as an operator message in the Chatbox. By default, no message will be displayed. This message will also be used and displayed when the user accepts the GDPR. You can set an automatic message through:</p>
<pre class="highlight swift"><code><span class="n">configuration</span><span class="o">.</span><span class="n">automaticMessage</span> <span class="o">=</span> <span class="s">"Hello! Please ask your question :)"</span>
</code></pre>
<h5 id='gdpr-message' class='heading'>GDPR message</h5>

<p>If you want to activate the GDPR consent collect feature through the iAdvize Conversation SDK, please refer to the <a href="#gdpr">GDPR section</a>.</p>

<p>Once the GDPR is activated, you can easily customise the GDPR message you want to display to your users to collect their consent:</p>
<pre class="highlight swift"><code><span class="n">configuration</span><span class="o">.</span><span class="n">gdprMessage</span> <span class="o">=</span> <span class="s">"Your own GDPR message."</span>
</code></pre>
<h5 id='brand-avatar' class='heading'>Brand avatar</h5>

<p>You can update the brand avatar displayed for the incoming messages. You can specify an URL or a Drawable. Gifs are not supported.</p>
<pre class="highlight swift"><code><span class="c1">// Update the incoming message avatar with a `UIImage`.</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">incomingMessageAvatar</span> <span class="o">=</span> <span class="o">.</span><span class="nf">image</span><span class="p">(</span><span class="nv">image</span><span class="p">:</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"BrandAvatar"</span><span class="p">))</span>

<span class="c1">// Update the incoming message avatar with a `URL`.</span>
<span class="n">configuration</span><span class="o">.</span><span class="n">incomingMessageAvatar</span> <span class="o">=</span> <span class="o">.</span><span class="nf">url</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="n">avatarUrl</span><span class="p">)</span>
</code></pre>
<h3 id='transaction' class='heading'>Transaction</h3>

<p>You can register a transaction within your application using the <code>IAdvizeSDK.shared.transactionController</code>:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">transaction</span> <span class="o">=</span> <span class="kt">Transaction</span><span class="p">(</span><span class="nv">externalTransactionId</span><span class="p">:</span> <span class="s">"transactionId"</span><span class="p">,</span> <span class="nv">date</span><span class="p">:</span> <span class="kt">Date</span><span class="p">(),</span> <span class="nv">amount</span><span class="p">:</span> <span class="mf">500.0</span><span class="p">,</span> <span class="nv">currency</span><span class="p">:</span> <span class="o">.</span><span class="n">eur</span><span class="p">)</span>

<span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="n">transactionController</span><span class="o">.</span><span class="nf">registerTransaction</span><span class="p">(</span><span class="kt">Transaction</span><span class="p">)</span>
</code></pre>
<h3 id='logout' class='heading'>Logout</h3>

<p>When the user is logged out in your app, you need to log out in the iAdvize SDK as well to ensure the privacy of the user data and conversations.</p>
<pre class="highlight swift"><code><span class="kt">IAdvizeSDK</span><span class="o">.</span><span class="n">shared</span><span class="o">.</span><span class="nf">logout</span><span class="p">()</span>
</code></pre>

<p>This will clear all the locally stored visitor data.</p>
<h2 id='and-you-re-done' class='heading'>And you’re done! 💪</h2>

<p>Well done! You’re now ready to take your app to the next step and provide a unique conversational experience to your users! 🚀</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="https://www.iadvize.com/" target="_blank" rel="external">iAdvize</a>. All rights reserved. (Last updated: 2021-07-01)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
